from bs4 import BeautifulSoup
import re
import requests

def get_web_page(url, c, s):
    resp = requests.post(
            url=url,
            data = {'c':c, 's':s}
            )

    if resp.status_code != 200:
        print('Invalid url:', resp.url)
        return None
    else:
        return resp

# Initial page
url = 'http://104.199.235.135:31332/_hidden_flag_.php'
resp = requests.get(url)
page = resp.text
while page != None:
    soup = BeautifulSoup(page, 'html.parser')

    # Find if FLAG exist
    keywordList = soup(text=re.compile('Hmm'))
    if len(keywordList) != 1:
        print(resp.headers['Flag'])
        break


    inputList = soup.find_all('input')

    c = inputList[0].get('value')
    s = inputList[1].get('value')

    print(c + ' : ' + s)
   
    resp = get_web_page(url, c, s)
    page = resp.text
